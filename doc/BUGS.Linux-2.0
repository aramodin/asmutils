
I've got some strange things happening on Linux 2.0 kernel.

In a few words: httpd and pwd (may be some other too)
do not work in some cases. I failed to determine cause
of this, though thing is reproducing. If you have time
and willing - please try to investigate the case.

Here's description:

I've launched pwd and httpd on two different Linux installations,
on the same machine. One is UMSDOS based, the other is EXT2. I was
using THE SAME KERNEL BINARY (2.0.38) on both. However, on EXT2 all
works fine, on UMSDOS (as strace shows) pwd falls into endless cycle,
and httpd drops connection immediately trying to read request.
As for pwd, this is likely UMSDOS bug, but I have no ideas concerning
httpd. More to say, I have another Linux (again 2.0.38) installation
on other machine on MINIX fs, pwd works there, but httpd again does not.

Thinking this is some initscript issue I've booted using
init=/bin/sh - result is the same.

Possibly this is kernel sys_read() issue, but more likely
this is minix/umsdos/possibly_some_other_fs bug (or feature:)

Also it is quite possible that libc wrappers protect user
program from this bug/feature, but asmutils programs work
directly with kernel, bypassing libc.

So..

Sorry, I have no time to dig into this,
if you do - please tell me your results.


Konstantin.
